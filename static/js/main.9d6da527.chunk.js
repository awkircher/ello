(this.webpackJsonpello=this.webpackJsonpello||[]).push([[0],{29:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},52:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(32),s=n.n(a),o=(n(39),n(3)),i=n.n(o),u=n(5),d=n(6),l=n(16),b=n(8),p=(n(41),n(1)),j=function(e){return Object(p.jsxs)("div",{className:"Form",children:[Object(p.jsx)("h1",{children:"Log in to Ello"}),Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target,r=n[0].value,c=n[1].value;e.checkUserCredentials(r,c)},children:[Object(p.jsx)("input",{type:"text",placeholder:"username"}),Object(p.jsx)("input",{type:"password",placeholder:"password"}),Object(p.jsx)("button",{type:"submit",children:"Sign in"})]})]})},f=n.p+"static/media/logo.e6046145.svg",h=(n(43),function(e){return Object(r.useEffect)((function(){document.title="Login | Ello"}),[]),Object(p.jsxs)("div",{className:"LoginView",children:[Object(p.jsx)("img",{src:f,alt:"Ello logo"}),Object(p.jsx)(j,{checkUserCredentials:e.checkUserCredentials})]})}),v=Object(r.createContext)({currentUser:null,isLoggedIn:!1,setIsLoggedIn:function(e){return!e}}),x=(n(44),function(e){var t=e.user.currentUser.email.slice(0,1),n=Object(r.useState)(!1),c=Object(d.a)(n,2),a=c[0],s=c[1],o=function(){s(!1)},i=a?"open":"closed";return Object(r.useEffect)((function(){return a&&window.addEventListener("click",o),function(){window.removeEventListener("click",o)}})),Object(p.jsxs)("div",{className:"UserAccount",children:[Object(p.jsx)("div",{className:"userIcon",onClick:function(){s(!0)},children:t.toUpperCase()}),Object(p.jsx)("div",{className:"menu ".concat(i),children:Object(p.jsx)(l.b,{to:"/login",onClick:function(){e.user.setLogOut(e.user.isLoggedIn)},children:Object(p.jsx)("div",{className:"menuItem",children:"Log out"})})})]})}),m=n.p+"static/media/logo-white.49c8f8b0.svg",O=n.p+"static/media/home-icon.da235aea.svg",g=(n(52),n(29),function(e){var t=Object(r.useContext)(v),n=Object(b.g)().url.includes("/boards");return Object(p.jsxs)("nav",{className:"".concat(n?"dash":"board"," ").concat(e.background),"data-action":"closeCard",children:[Object(p.jsx)(l.b,{className:"buttonContainer",to:"/".concat(t.currentUser.username,"/boards"),children:Object(p.jsx)("button",{className:"main",children:Object(p.jsx)("img",{src:O,alt:"home icon"})})}),Object(p.jsx)(l.b,{className:"logoContainer",to:"/",children:Object(p.jsx)("img",{src:m,alt:"logo"})}),Object(p.jsx)(x,{user:t})]})}),w=n(18),k=(n(70),n(54),n(17)),I=function e(t,n,r){Object(k.a)(this,e),this.email=t,this.uid=n,this.boardIds=r},C=function e(t,n,r,c,a,s){Object(k.a)(this,e),this.name=t,this.uid=n,this.ownerId=r,this.listIds=c,this.memberIds=a,this.background=s},N=function e(t,n,r){Object(k.a)(this,e),this.name=t,this.uid=n,this.cardIds=r},y=function e(t,n,r){Object(k.a)(this,e),this.title=t,this.uid=n,this.description=r},L={apiKey:"".concat("AIzaSyD1gfgQ7705SMmwc1IV9vWI2SX-hVYwnZE"),authDomain:"".concat("ello-ccb2b.firebaseapp.com"),projectId:"".concat("ello-ccb2b"),storageBucket:"".concat("ello-ccb2b.appspot.com"),messagingSenderId:"".concat("1063740123579"),appId:"".concat("1:1063740123579:web:0b79d679c2974fb892bc9e")};w.a.initializeApp(L);var E={toFirestore:function(e){return console.log("toFirestore called with ",e),{email:e.email,boardIds:e.boardIds}},fromFirestore:function(e,t){var n=e.data(t),r=e.ref.id;return console.log("fromFirestore called with ",n),new I(n.email,r,n.boardIds)}},S={toFirestore:function(e){return console.log("toFirestore called with ",e),{name:e.name,ownerId:e.ownerId,listIds:e.listIds,memberIds:e.memberIds,background:e.background}},fromFirestore:function(e,t){var n=e.data(t),r=e.ref.id;return console.log("fromFirestore called with ",n),new C(n.name,r,n.ownerId,n.listIds,n.memberIds,n.background)}},B={toFirestore:function(e){return console.log("toFirestore called with ",e),{name:e.name,cardIds:e.cardIds}},fromFirestore:function(e,t){var n=e.data(t),r=e.ref.id;return console.log("fromFirestore called with ",n),new N(n.name,r,n.cardIds)}},F={toFirestore:function(e){return console.log("toFirestore called with ",e),{title:e.title,description:e.description}},fromFirestore:function(e,t){var n=e.data(t),r=e.ref.id;return console.log("fromFirestore called with ",n),new y(n.title,r,n.description)}},U=function(){var e=w.a.firestore(),t=function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("getUser called with uid ",n),t.prev=1,t.next=4,e.collection("users").doc(n).withConverter(E).get();case 4:if(!(r=t.sent).exists){t.next=10;break}return c=r.data(),t.abrupt("return",c);case 10:throw new Error("user not found");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),n=function(){var e=Object(u.a)(i.a.mark((function e(n,r){var c,a,s,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.auth().signInWithEmailAndPassword(n,r);case 3:if(!(c=e.sent)){e.next=10;break}return a=c.user.uid,e.next=8,t(a);case 8:return s=e.sent,e.abrupt("return",s);case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),o=e.t0.code,u=e.t0.message,console.log(o,u);case 17:case 18:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),r=function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("getBoard called with uid ",n),t.prev=1,t.next=4,e.collection("boards").doc(n).withConverter(S).get();case 4:if(!(r=t.sent).exists){t.next=10;break}return c=r.data(),t.abrupt("return",c);case 10:throw new Error("board not found");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("getList called with ",n),t.prev=1,t.next=4,e.collection("lists").doc(n).withConverter(B).get();case 4:if(!(r=t.sent).exists){t.next=10;break}return c=r.data(),t.abrupt("return",c);case 10:throw new Error("list not found");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.collection("cards").doc(n).withConverter(F).get();case 3:if(!(r=t.sent).exists){t.next=9;break}return c=r.data(),t.abrupt("return",c);case 9:throw new Error("card not found");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),s=function(){var e=Object(u.a)(i.a.mark((function e(n){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(n);case 3:if(c=e.sent){e.next=8;break}throw new Error("user not found");case 8:if(e.prev=8,!((a=c.boardIds.map(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).length<1)){e.next=14;break}throw new Error("no boards found");case 14:return e.next=16,Promise.all(a);case 16:return e.abrupt("return",e.sent);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),console.log(e.t0);case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(0),console.log(e.t1);case 27:case"end":return e.stop()}}),e,null,[[0,24],[8,19]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("looking for "+t),e.prev=1,e.next=4,r(t);case 4:if(n=e.sent){e.next=9;break}throw new Error("board not found");case 9:return e.prev=9,a=n.listIds.map(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log(a),e.next=14,Promise.all(a);case 14:return e.abrupt("return",e.sent);case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(1),console.log(e.t1);case 25:case"end":return e.stop()}}),e,null,[[1,22],[9,17]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(t);case 3:if(n=e.sent){e.next=8;break}throw new Error("list not found");case 8:if(n.cardIds){e.next=12;break}return e.abrupt("return","no cards in this list");case 12:return e.prev=12,r=n.cardIds.map(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=16,Promise.all(r);case 16:return e.abrupt("return",e.sent);case 19:e.prev=19,e.t0=e.catch(12),console.log(e.t0);case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(0),console.log(e.t1);case 27:case"end":return e.stop()}}),e,null,[[0,24],[12,19]])})));return function(t){return e.apply(this,arguments)}}();return{authenticateAndGetUser:n,getUser:t,getBoard:r,getList:c,getCard:a,getBoardsByUserId:s,getListsByBoardId:o,getCardsByListId:d,updateBoard:function(){var t=Object(u.a)(i.a.mark((function t(n,r,c){var a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.collection("boards").doc(n),t.t0=r,t.next="listIds"===t.t0?4:"background"===t.t0?16:27;break;case 4:return console.log("listIds matched in switch"),t.prev=5,t.next=8,a.update({listIds:w.a.firestore.FieldValue.arrayUnion(c)});case 8:return s=t.sent,t.abrupt("return",s);case 12:t.prev=12,t.t1=t.catch(5),console.log(t.t1);case 15:return t.abrupt("break",28);case 16:return console.log("background matched in switch"),t.prev=17,t.next=20,a.update({background:c});case 20:return t.abrupt("return","Document updated");case 23:t.prev=23,t.t2=t.catch(17),console.log(t.t2);case 26:return t.abrupt("break",28);case 27:console.log("invalid key passed");case 28:case"end":return t.stop()}}),t,null,[[5,12],[17,23]])})));return function(e,n,r){return t.apply(this,arguments)}}(),removeFromBoard:function(){var t=Object(u.a)(i.a.mark((function t(n,r){var c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=e.collection("boards").doc(n),t.next=4,c.update({listIds:w.a.firestore.FieldValue.arrayRemove(r)});case 4:return a=t.sent,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}(),removeFromList:function(){var t=Object(u.a)(i.a.mark((function t(n,r){var c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=e.collection("lists").doc(n),t.next=4,c.update({cardIds:w.a.firestore.FieldValue.arrayRemove(r)});case 4:return a=t.sent,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}(),addList:function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.collection("lists").withConverter(B).add({name:n.name,cardIds:n.cardIds});case 3:if(!(r=t.sent)){t.next=8;break}return c=r.id,a=new N(n.name,c,n.cardIds),t.abrupt("return",a);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),deleteList:function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("deleteList called with id ",n),t.prev=1,r=e.collection("lists").doc(n),t.next=5,r.delete();case 5:c=t.sent,console.log(c),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),updateList:function(){var t=Object(u.a)(i.a.mark((function t(n,r){var c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=e.collection("lists").doc(n),t.next=4,c.update({cardIds:w.a.firestore.FieldValue.arrayUnion(r)});case 4:return a=t.sent,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}(),addCard:function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.collection("cards").withConverter(F).add({title:n.title,description:n.description});case 3:if(!(r=t.sent)){t.next=8;break}return c=r.id,a=new y(n.title,c,n.description),t.abrupt("return",a);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),deleteCard:function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("deleteCard called with id ",n),t.prev=1,r=e.collection("cards").doc(n),t.next=5,r.delete();case 5:c=t.sent,console.log(c),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),updateCard:function(){var t=Object(u.a)(i.a.mark((function t(n,r,c){var a,s=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("updateCard called with ",s),a=e.collection("cards").doc(n),t.t0=r,t.next="description"===t.t0?5:"title"===t.t0?16:27;break;case 5:return console.log("description matched in switch"),t.prev=6,t.next=9,a.update({description:c});case 9:return t.abrupt("return","Document updated");case 12:t.prev=12,t.t1=t.catch(6),console.log(t.t1);case 15:return t.abrupt("break",28);case 16:return console.log("title matched in switch"),t.prev=17,t.next=20,a.update({title:c});case 20:return t.abrupt("return","Document updated");case 23:t.prev=23,t.t2=t.catch(17),console.log(t.t2);case 26:return t.abrupt("break",28);case 27:console.log("invalid key passed");case 28:case"end":return t.stop()}}),t,null,[[6,12],[17,23]])})));return function(e,n,r){return t.apply(this,arguments)}}()}},D=n.p+"static/media/recent-icon-dark.d4a8def6.svg",A=n.p+"static/media/member-icon-dark.28303ddf.svg",T=(n(56),function(){var e=Object(r.useState)(!0),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useContext)(v),s=U(),o=Object(r.useState)([]),b=Object(d.a)(o,2),j=b[0],f=b[1],h=Object(r.useState)([]),x=Object(d.a)(h,2),m=x[0],O=x[1],w=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("initBoards called with ",t),t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,s.getBoardsByUserId(t.currentUser.uid);case 5:(n=e.sent)?(f(n.filter((function(e){return e.ownerId===t.currentUser.uid}))),O(n.filter((function(e){return e.ownerId!==t.currentUser.uid}))),c(!1)):console.log("not found");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=j.map((function(e){return Object(p.jsx)(l.b,{className:"boardTile ".concat(e.background),to:"/".concat(e.uid,"/").concat(e.name),children:Object(p.jsx)("div",{children:e.name})},"owned".concat(e.uid))})),I=m.map((function(e){return Object(p.jsx)(l.b,{className:"boardTile ".concat(e.background),to:"/".concat(e.uid,"/").concat(e.name),children:Object(p.jsx)("div",{children:e.name})},"shared".concat(e.uid))}));return Object(r.useEffect)((function(){w(a);document.title="Boards | Ello"}),[]),n?Object(p.jsx)("div",{children:Object(p.jsx)(g,{})}):Object(p.jsxs)("div",{className:"Dashboard",children:[Object(p.jsx)(g,{}),Object(p.jsxs)("div",{className:"boardTiles",children:[Object(p.jsxs)("div",{className:"sectionTitle",children:[Object(p.jsx)("img",{src:D,alt:"recently viewed icon"}),Object(p.jsx)("h1",{children:"Your Boards"})]}),Object(p.jsx)("section",{className:"recents",children:k}),Object(p.jsxs)("div",{className:"sectionTitle",children:[Object(p.jsx)("img",{src:A,alt:"member icon"}),Object(p.jsx)("h1",{children:"Shared Boards"})]}),Object(p.jsx)("section",{className:"all",children:I})]})]})}),V=(n(57),n(26)),M=(n(58),n.p+"static/media/delete-icon.28ac9259.svg"),P=function(e){return"rectButton"===e.appearance?Object(p.jsx)("div",{className:"Delete ".concat(e.appearance),children:Object(p.jsxs)("button",{onClick:function(t){t.preventDefault(),e.delete(e.uid)},children:[Object(p.jsx)("img",{src:M,alt:"delete icon"})," Archive"]})}):Object(p.jsx)("div",{className:"Delete",children:Object(p.jsx)("button",{onClick:function(t){t.preventDefault(),e.delete(e.uid)},children:Object(p.jsx)("img",{src:M,alt:"delete icon"})})})},z=n(25),G=n.n(z),H=(n(63),n.p+"static/media/cancel-icon.f1e32e6f.svg"),J=n.p+"static/media/description-icon.4e00cd49.svg",R=function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(e.description),o=Object(d.a)(s,2),i=o[0],u=o[1],l=function(t){"ignore"!==t.target.dataset.action&&(a(!1),u(e.description))};return Object(r.useEffect)((function(){return c&&window.addEventListener("click",l),function(){window.removeEventListener("click",l)}})),Object(p.jsxs)("div",{className:"Description",children:[Object(p.jsx)("img",{src:J,alt:"description icon"}),Object(p.jsxs)("div",{className:"contents",children:[Object(p.jsx)("h2",{children:"Description"}),function(e){return e?Object(p.jsx)(G.a,{"data-action":"ignore",placeholder:"Add a more detailed description...",value:i,autoFocus:!0,onChange:function(e){return u(e.target.value)}}):(""===i?(t="Add a more detailed description...",n="noDescription"):(t=i,n="hasDescription"),Object(p.jsx)("button",{className:"inactiveTextarea ".concat(n),onClick:function(){return a(!0)},children:t}));var t,n}(c),function(t){return t?Object(p.jsxs)("div",{className:"controls",children:[Object(p.jsx)("button",{"data-action":"ignore",type:"submit",onClick:function(){e.update(e.uid,"description",i),u(i),a(!1)},children:"Save"}),Object(p.jsx)("button",{"data-action":"ignore",className:"cancel",onClick:function(){a(!1),u(e.description)},children:Object(p.jsx)("img",{"data-action":"ignore",src:H,alt:"cancel icon"})})]}):null}(c)]})]})},W=(n(64),n.p+"static/media/title-icon.e2feb6ab.svg"),Y=function(e){var t=Object(r.useState)(e.title),n=Object(d.a)(t,2),c=n[0],a=n[1];return Object(p.jsxs)("div",{className:"titleSection",children:[Object(p.jsx)("img",{src:W,alt:"title icon"}),Object(p.jsxs)("div",{className:"titleDetails",children:[Object(p.jsx)(G.a,{value:c,rows:1,onChange:function(e){return a(e.target.value)},onBlur:function(t){var n=""===t.target.value?e.title:t.target.value;e.update(e.uid,"title",n),a(n)}}),Object(p.jsxs)("p",{className:"subhead",children:["in list ",Object(p.jsx)("span",{className:"actionText",children:e.parentList})]})]})]})},K=(n(65),function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],a=n[1],s=function(e){"closeCard"===e.target.dataset.action&&a(!1)};return Object(r.useEffect)((function(){return c&&(window.addEventListener("click",s),console.log("window is listening")),function(){window.removeEventListener("click",s)}})),c?Object(p.jsxs)("div",{className:"Card open",children:[e.title,Object(p.jsx)(P,{uid:e.cardId,delete:e.deleteCard}),Object(p.jsx)("div",{className:"modal","data-action":"closeCard",children:Object(p.jsx)("div",{className:"cardContentsContainer","data-action":"closeCard",children:Object(p.jsxs)("div",{className:"cardContents",children:[Object(p.jsx)(Y,{uid:e.cardId,title:e.title,parentList:e.parentList,update:e.update}),Object(p.jsx)("button",{className:"close",onClick:function(){return a(!1)},children:Object(p.jsx)("img",{src:H,alt:"cancel icon"})}),Object(p.jsx)("div",{className:"editableSections",children:Object(p.jsx)(R,{uid:e.cardId,description:e.description,update:e.update})}),Object(p.jsxs)("div",{className:"sideMenu",children:[Object(p.jsx)("h4",{className:"sectionHeader",children:"Actions"}),Object(p.jsx)(P,{appearance:"rectButton",uid:e.cardId,delete:e.deleteCard})]})]})})})]}):Object(p.jsxs)("div",{className:"Card closed","data-action":"controlCard",onClick:function(e){return function(e){"controlCard"===e.target.dataset.action&&a(!0)}(e)},children:[e.title,Object(p.jsx)(P,{uid:e.cardId,delete:e.deleteCard}),Object(p.jsx)("div",{className:"modal"})]})}),Q=(n(66),function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],a=n[1];return c?"list"===e.source?Object(p.jsx)("div",{className:"addList",children:Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target[0].value;e.add(n),a(!1)},children:[Object(p.jsx)("input",{type:"text",placeholder:"Enter list title...",autoFocus:"true"}),Object(p.jsx)("button",{type:"submit",children:"Add"}),Object(p.jsx)("button",{className:"cancel",onClick:function(){return a(!1)},children:Object(p.jsx)("img",{src:H,alt:"cancel icon"})})]})}):Object(p.jsx)("div",{className:"addCard",children:Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target[0].value;e.add(n),a(!1)},children:[Object(p.jsx)("textarea",{placeholder:"Enter a title for this card...",autoFocus:!0}),Object(p.jsx)("button",{type:"submit",children:"Add"}),Object(p.jsx)("button",{className:"cancel",onClick:function(){return a(!1)},children:Object(p.jsx)("img",{src:H,alt:"cancel icon"})})]})}):Object(p.jsx)("div",{className:"Add ".concat(e.source),children:Object(p.jsxs)("button",{onClick:function(){return a(!0)},children:["+ Add another ",e.source]})})}),X=(n(67),function(e){var t=Object(r.useState)(!0),n=Object(d.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)([]),o=Object(d.a)(s,2),l=o[0],b=o[1],j=U(),f=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,j.getCardsByListId(t);case 4:"no cards in this list"===(n=e.sent)?(b([]),a(!1)):n?(b(n),a(!1)):console.log("somthing went wrong");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={title:n,description:""},t.next=3,j.addCard(r);case 3:(c=t.sent)?(j.updateList(e.listId,c.uid),b([].concat(Object(V.a)(l),[c]))):console.log("error adding new card");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(i.a.mark((function e(t,n,r){var c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.updateCard(t,n,r);case 2:if(!e.sent){e.next=18;break}c=l.slice(),a=function(e){return e.uid===t},s=c.findIndex(a),e.t0=n,e.next="title"===e.t0?10:"description"===e.t0?12:14;break;case 10:return c[s].title=r,e.abrupt("break",15);case 12:return c[s].description=r,e.abrupt("break",15);case 14:console.log("no such key");case 15:b(c),e.next=19;break;case 18:console.log("error updating card");case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),x=function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.deleteCard(n);case 2:void 0===t.sent?(j.removeFromList(e.listId,n),r=l.slice(),c=function(e){return e.uid===n},a=r.findIndex(c),r.splice(a,1),b(r)):console.log("there was an error deleting the card");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=l.map((function(t){return Object(p.jsx)("div",{className:"cardContainer",children:Object(p.jsx)(K,{deleteCard:x,cardId:t.uid,title:t.title,description:t.description,parentList:e.name,update:v})},t.uid)}));return Object(r.useEffect)((function(){f(e.listId)}),[]),c?Object(p.jsx)("div",{children:"please hold!"}):Object(p.jsxs)("div",{className:"List",children:[Object(p.jsxs)("div",{className:"listName",children:[e.name,Object(p.jsx)(P,{uid:e.listId,delete:e.deleteList})]}),m,Object(p.jsx)(Q,{source:"card",add:h})]})}),Z=(n(68),function(e){var t,n=Object(r.useState)(!0),c=Object(d.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)([]),l=Object(d.a)(o,2),j=l[0],f=l[1],h=Object(r.useState)("default"),v=Object(d.a)(h,2),x=v[0],m=v[1],O=Object(r.useState)(!1),w=Object(d.a)(O,2),k=w[0],I=w[1],C=U(),N=Object(b.g)(),y=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C.getBoard(t);case 4:return(n=e.sent)?m(n.background):console.log("board not found"),e.next=8,C.getListsByBoardId(t);case 8:(r=e.sent)?(f(r),s(!1)):console.log("lists not found");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t,cardIds:null},e.next=3,C.addList(n);case 3:(r=e.sent)?(C.updateBoard(N.params.boardId,"listIds",r.uid),f([].concat(Object(V.a)(j),[r]))):console.log("error adding new list");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.updateBoard(N.params.boardId,"background",t);case 2:e.sent?m(t):console.log("error updating settings");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.deleteList(t);case 2:void 0===e.sent?(C.removeFromBoard(N.params.boardId,t),n=j.slice(),r=function(e){return e.uid===t},c=n.findIndex(r),n.splice(c,1),f(n)):console.log("there was an error deleting the list");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=j.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(X,{deleteList:S,listId:e.uid,name:e.name})},e.uid)}));return Object(r.useEffect)((function(){y(N.params.boardId);var e="".concat(N.params.boardName," | Ello");document.title=e}),[]),a?Object(p.jsx)("div",{children:Object(p.jsx)(g,{background:x})}):Object(p.jsxs)("div",{children:[Object(p.jsx)(g,{background:x}),Object(p.jsxs)("div",{className:"boardContainer ".concat(x),children:[Object(p.jsxs)("div",{className:"boardDetailBar",children:[Object(p.jsx)("h1",{children:N.params.boardName}),(t=k,t?Object(p.jsxs)("div",{className:"settingsMenu",children:[Object(p.jsxs)("div",{className:"sectionHeader",children:[Object(p.jsx)("h4",{children:"Change Background"}),Object(p.jsx)("button",{className:"close",onClick:function(){return I(!1)},children:Object(p.jsx)("img",{src:H,alt:"close icon"})})]}),Object(p.jsxs)("div",{className:"options",children:[Object(p.jsx)("button",{className:"menuOption orange",onClick:function(){return E("orange")}}),Object(p.jsx)("button",{className:"menuOption purple",onClick:function(){return E("purple")}}),Object(p.jsx)("button",{className:"menuOption green",onClick:function(){return E("green")}})]})]}):Object(p.jsx)("button",{className:"settingsMenuControl",onClick:function(){return I(!0)},children:"Show Menu"}))]}),Object(p.jsxs)("div",{className:"listsContainer",children:[B,Object(p.jsx)(Q,{source:"list",add:L})]})]})]})}),q=function(){return Object(p.jsx)("div",{children:"oops...something went wrong :("})};function $(){var e=U(),t=Object(r.useContext)(v),n=Object(r.useState)(t),c=Object(d.a)(n,2),a=c[0],s=c[1],o=function(){var n=Object(u.a)(i.a.mark((function n(r,c){var o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.authenticateAndGetUser(r,c);case 2:o=n.sent,console.log("auth response is ",o),o?(s({currentUser:o,isLoggedIn:!0,setLogOut:function(e){e&&s(t)}}),console.log("the state variable user is ",a)):console.log("try again");case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return Object(p.jsx)(v.Provider,{value:a,children:Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(l.a,{children:Object(p.jsxs)(b.d,{children:[Object(p.jsx)(b.b,{exact:!0,path:"/",children:a.isLoggedIn?Object(p.jsx)(b.a,{to:"/".concat(a.currentUser.email,"/boards")}):Object(p.jsx)(h,{checkUserCredentials:o})}),Object(p.jsx)(b.b,{exact:!0,path:"/login",children:a.isLoggedIn?Object(p.jsx)(b.a,{to:"/".concat(a.currentUser.email,"/boards")}):Object(p.jsx)(h,{checkUserCredentials:o})}),Object(p.jsx)(b.b,{exact:!0,path:"/:email/boards",children:a.isLoggedIn?Object(p.jsx)(T,{}):Object(p.jsx)(b.a,{to:"/login"})}),Object(p.jsx)(b.b,{exact:!0,path:"/:boardId/:boardName",children:a.isLoggedIn?Object(p.jsx)(Z,{}):Object(p.jsx)(b.a,{to:"/login"})}),Object(p.jsx)(b.b,{children:Object(p.jsx)(q,{})})]})})})})}s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)($,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.9d6da527.chunk.js.map